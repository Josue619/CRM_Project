<div class="container">

  <div class="modal fade" id="modalRequest" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header justify-content-around">
          <h5 class="modal-title" id="exampleModalLabel">Consultas</h5>
          <button type="button" class="close btn btn-danger" data-dismiss="modal">&times;</button>
        </div>

        <div class="alert alert-danger" [hidden]="!Service.error[0]">
          <li *ngFor="let err of Service.error">
            {{ err.msg }}
          </li>
        </div>

        <div class="modal-body">
            <table class="table table-striped table-bordered" style="text-align:center">
                <thead class="thead-dark">
                    <tr>
                        <th>#</th>
                        <th>Consulta</th>
                        <th>Soluci√≥n</th>
                        <th>Prioridad</th>
                        <th>Eliminar</th>
                        <th>
                          <div style="text-align:center">
                              <div class="input-group" style="justify-content: center;">
                                <form #listvForm=ngForm>
                                  <input type="text" name="search" class="form-control" placeholder="Search request">
                                </form>
                              </div>
                          </div>
                        </th>
                    </tr>
                </thead>  
                
                <tbody style="text-align:center">
                    <tr *ngFor="let req of Service.requests; index as i">
                        <td scope="row">{{i+1}}</td>
                        <td class="text-info">{{req.query}} </td>
                        <td class="text-info">
                          <br>
                           <input type="text" [(ngModel)]="req.solution" readonly (dblclick)="tryEditS(req)" *ngIf="!editS" autofocus>
                           <input type="text" [(ngModel)]="req.solution" (blur)="editRequestS(req)" (keyup.enter)="editRequestS(req)" *ngIf="editS" autofocus>
                        </td>

                        <td class="text-info"> 
                          <br>
                          <button class="{{priority(req.priority_color)}}" (dblclick)="tryEditP(req)" *ngIf="!editP || req.state">
                            <i class="far fa-flag"></i>
                          </button>
                          <!--input type="text" [(ngModel)]="req.priority_color" (blur)="editRequestP(req)" (keyup.enter)="editRequestP(req)" *ngIf="editP" autofocus-->

                          <select class="form-control" [(ngModel)]="req.priority_color" (blur)="editRequestP(req)" (dblclick)="editRequestP(req)" *ngIf="editP && !req.state;" required autofocus>
                            <option value="1">Rojo</option>
                            <option value="2">Amarillo</option>
                            <option value="3">Verde</option>
                         </select>

                        </td>

                        <td class="text-info">
                          <br>
                          <button class="btn btn-danger" (click)="requestDelete(req)">
                            <i class="fa fa-trash"></i>
                          </button>
                        </td>
                        
                        <td style="text-align:right">
              
                          <div class="form-group row  mx-auto justify-content-center">
                              <button class="btn btn-success"> Responder <i class="fas fa-pen-square"></i></button>
                          </div>
              
                        </td>
                    </tr>
                </tbody>
            
            </table>
        </div>
  
      </div>
    </div>
</div>

</div>